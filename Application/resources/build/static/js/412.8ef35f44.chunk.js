"use strict";(self.webpackChunkmyapp=self.webpackChunkmyapp||[]).push([[412],{13412:(e,t,o)=>{o.r(t),o.d(t,{default:()=>R});var r=o(65043),s=o(73216),n=o(33355),a=o(22019),i=o(85531),l=o(7650),c=o(99472),d=o(10898),u=o(76399),g=o(98964),f=o(18125),p=o(47419),h=o(11645),m=o(79126),y=o(37490),x=o(3188),j=o(54522),A=o(58502),b=o(67177),v=o(93761),C=o(46237),_=o(89967),k=o(30119),N=o(23209),S=o(81210),w=o(73889),I=o(46011),P=o(90617),T=o(92252),E=o(94505);const O={contentWrapper:"NotificationPage_contentWrapper__4gqT5",iconWrapper:"NotificationPage_iconWrapper__LLuQs",statsCard:"NotificationPage_statsCard__Cjhbd",statsRow:"NotificationPage_statsRow__aeOWj",iconContainer:"NotificationPage_iconContainer__-Lhgt",anticon:"NotificationPage_anticon__qelme",textWrapper:"NotificationPage_textWrapper__cegne",title:"NotificationPage_title__eVKlu",value:"NotificationPage_value__E7JTz",CardDetails:"NotificationPage_CardDetails__76idG",sidebarWrapper:"NotificationPage_sidebarWrapper__rDNHZ",headerRow:"NotificationPage_headerRow__99xXY",headerTitle:"NotificationPage_headerTitle__6c0zq",headerActions:"NotificationPage_headerActions__Sp819",filterContainer:"NotificationPage_filterContainer__Bn5Vv",filterSelect:"NotificationPage_filterSelect__7dQzf",filterDatePicker:"NotificationPage_filterDatePicker__EEnzP",notificationsList:"NotificationPage_notificationsList__v3H9Y",notificationCard:"NotificationPage_notificationCard__GaWSd",activityList:"NotificationPage_activityList__YSHK9",activityItem:"NotificationPage_activityItem__6h7T4"};var $=o(52967),D=o(32869),L=o(70579);const{Title:z,Text:F}=n.A;function R(){const{user:e}=(0,D.Z)(),[t,o]=(0,r.useState)([]),[n,R]=(0,r.useState)(!0),[W,q]=(0,r.useState)("all"),[B,M]=(0,r.useState)({total:0,unread:0,today:0}),[H,Q]=(0,r.useState)({today:[],yesterday:[],thisWeek:[],older:[]}),G=(0,r.useRef)([]),V=e=>{const t=e.reduce(((e,t)=>{const o=t.message.toLowerCase();return o.includes("registration")?e.registrations++:o.includes("product request")?e.requests++:o.includes("approved")?e.approved++:o.includes("rejected")&&e.rejected++,e}),{registrations:0,requests:0,approved:0,rejected:0}),o=[];return t.registrations>0&&o.push(`${t.registrations} registration${1!==t.registrations?"s":""}`),t.requests>0&&o.push(`${t.requests} request${1!==t.requests?"s":""}`),t.approved>0&&o.push(`${t.approved} approved`),t.rejected>0&&o.push(`${t.rejected} rejected`),o.join(", ")||"No activity"},Y=(0,s.Zp)(),J=(0,r.useCallback)((t=>{const o=t.message.toLowerCase();return o.includes("registration")?"ADMIN"===e.role:!o.includes("product request")||["ADMIN","OFFICE_STAFF"].includes(e.role)}),[e.role]),U=(0,r.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{const t=await E.Ay.get("/notifications"),r=t.data.filter(J);if(e||JSON.stringify(G.current)!==JSON.stringify(r)){o(t.data),G.current=r;const e=r.filter((e=>"unread"===e.notif_status)).length,s=r.filter((e=>new Date(e.created_at).toDateString()===(new Date).toDateString())).length;M({total:r.length,unread:e,today:s}),Q((e=>{const t=new Date;t.setHours(0,0,0,0);const o=new Date(t);o.setDate(o.getDate()-1);const r=new Date(t);return r.setDate(r.getDate()-7),e.reduce(((e,s)=>{const n=new Date(s.created_at);return n.setHours(0,0,0,0),n.getTime()===t.getTime()?e.today.push(s):n.getTime()===o.getTime()?e.yesterday.push(s):n>=r?e.thisWeek.push(s):e.older.push(s),e}),{today:[],yesterday:[],thisWeek:[],older:[]})})(r))}}catch(t){console.error("Failed to fetch notifications:",t),e&&a.Ay.error("Failed to load notifications")}}),[J]),X=(0,r.useCallback)((()=>{const o=t.filter(J);switch(W){case"registration":return"ADMIN"===e.role?o.filter((e=>e.message.toLowerCase().includes("registration"))):[];case"requests":return["ADMIN","OFFICE_STAFF"].includes(e.role)?o.filter((e=>e.message.toLowerCase().includes("product request"))):[];case"approved":return o.filter((e=>e.message.toLowerCase().includes("approved")));case"rejected":return o.filter((e=>e.message.toLowerCase().includes("rejected")));case"unread":return o.filter((e=>"unread"===e.notif_status));default:return o}}),[t,W,J,e.role]);(0,r.useEffect)((()=>{R(!0),U(!0).finally((()=>R(!1)))}),[U]),(0,r.useEffect)((()=>{const e=setInterval((()=>{U(!1)}),3e4);return()=>clearInterval(e)}),[U]);const Z=e=>{const t=e.message.toLowerCase();if(t.includes("registration")){const t=e.message.match(/Staff ID: (\d+)/),o=t?t[1]:null;if(o)return`/user/approval?staffId=${o}`}if(t.includes("product request")){const t=e.message.match(/ID: (\d+)/),o=t?t[1]:null;return o?`/inventory/request?id=${o}`:"/inventory/request"}return null},K=e=>{let{icon:t,title:o,value:r,color:s}=e;return(0,L.jsx)(i.A,{className:O.statsCard,bodyStyle:{padding:"24px",display:"flex",alignItems:"start"},children:(0,L.jsxs)("div",{className:O.contentWrapper,children:[(0,L.jsx)("div",{className:O.iconWrapper,style:{background:s},children:t}),(0,L.jsxs)("div",{className:O.textWrapper,children:[(0,L.jsx)(F,{type:"secondary",className:O.title,children:o}),(0,L.jsx)(z,{level:3,className:O.value,children:r})]})]})})},ee=()=>{if(n)return(0,L.jsx)(l.A,{active:!0,paragraph:{rows:4}});const e=[{key:"today",icon:(0,L.jsx)(k.A,{}),label:"Today",color:"#1890ff",count:H.today.length,summary:V(H.today),show:H.today.length>0},{key:"yesterday",icon:(0,L.jsx)(N.A,{}),label:"Yesterday",color:"#52c41a",count:H.yesterday.length,summary:V(H.yesterday),show:H.yesterday.length>0},{key:"thisWeek",icon:(0,L.jsx)(S.A,{}),label:"This Week",color:"#722ed1",count:H.thisWeek.length,summary:V(H.thisWeek),show:H.thisWeek.length>0},{key:"older",icon:(0,L.jsx)(w.A,{}),label:"Older",color:"#faad14",count:H.older.length,summary:V(H.older),show:H.older.length>0}];return Object.values(H).every((e=>0===e.length))?(0,L.jsx)(c.A,{image:c.A.PRESENTED_IMAGE_SIMPLE,description:"No activity to show"}):(0,L.jsx)("div",{className:O.activityList,children:e.filter((e=>e.show)).map((e=>(0,L.jsx)("div",{className:O.activityItem,children:(0,L.jsxs)(d.A,{align:"start",style:{width:"100%"},children:[(0,L.jsx)("div",{className:O.iconWrapper,style:{color:e.color,fontSize:"20px",display:"flex",alignItems:"center",marginRight:"12px",marginTop:"2px"},children:e.icon}),(0,L.jsxs)("div",{style:{flex:1},children:[(0,L.jsxs)(d.A,{style:{width:"100%",justifyContent:"space-between"},children:[(0,L.jsx)(F,{strong:!0,children:e.label}),(0,L.jsx)(u.A,{color:"blue",children:e.count})]}),(0,L.jsx)("div",{style:{marginTop:4},children:(0,L.jsx)(F,{type:"secondary",style:{fontSize:"12px"},children:e.summary})})]})]})},e.key)))})};return(0,L.jsx)(g.A,{style:{background:"#f5f5f5",minHeight:"100vh"},children:(0,L.jsx)("div",{style:{padding:24},children:(0,L.jsxs)(d.A,{direction:"vertical",size:"large",style:{width:"100%"},children:[(0,L.jsx)(f.A,{items:[{title:(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(I.A,{})," Home"]})},{title:"Notifications"}]}),(0,L.jsxs)(p.A,{gutter:[24,24],children:[(0,L.jsx)(h.A,{xs:24,lg:6,children:(0,L.jsxs)("div",{className:O.sidebarWrapper,children:[(0,L.jsxs)(i.A,{className:O.CardDetails,children:[(0,L.jsx)(z,{level:5,style:{marginBottom:16},children:"Quick Filters"}),(0,L.jsx)(m.A,{mode:"inline",selectedKeys:[W],style:{border:"none"},onClick:e=>{let{key:t}=e;return(e=>{q(e)})(t)},children:[{key:"all",icon:(0,L.jsx)(A.A,{}),label:"All Notifications",count:t.filter(J).length,visible:!0},{key:"registration",icon:(0,L.jsx)(b.A,{}),label:"Registrations",count:t.filter((e=>e.message.toLowerCase().includes("registration"))).length,visible:"ADMIN"===e.role},{key:"requests",icon:(0,L.jsx)(v.A,{}),label:"Product Requests",count:t.filter((e=>e.message.toLowerCase().includes("product request"))).length,visible:["ADMIN","OFFICE_STAFF"].includes(e.role)},{key:"approved",icon:(0,L.jsx)(C.A,{}),label:"Approved",count:t.filter((e=>e.message.toLowerCase().includes("approved"))).length,visible:!["ADMIN","OFFICE_STAFF"].includes(e.role)},{key:"rejected",icon:(0,L.jsx)(_.A,{}),label:"Rejected",count:t.filter((e=>e.message.toLowerCase().includes("rejected"))).length,visible:!["ADMIN","OFFICE_STAFF"].includes(e.role)}].filter((e=>e.visible)).map((e=>(0,L.jsx)(m.A.Item,{icon:e.icon,children:(0,L.jsxs)(d.A,{style:{width:"100%",justifyContent:"space-between"},children:[e.label,(0,L.jsx)(u.A,{color:"all"===e.key?void 0:"blue",children:e.count})]})},e.key)))})]}),(0,L.jsxs)(i.A,{className:O.CardDetails,style:{marginTop:"24px"},children:[(0,L.jsx)(z,{level:5,style:{marginBottom:16},children:"Activity Summary"}),(0,L.jsx)(ee,{})]})]})}),(0,L.jsxs)(h.A,{xs:24,lg:18,children:[(0,L.jsxs)(i.A,{className:O.CardDetails,children:[(0,L.jsxs)(p.A,{justify:"space-between",align:"middle",className:O.headerRow,children:[(0,L.jsx)(h.A,{xs:24,md:12,children:(0,L.jsxs)(d.A,{align:"center",className:O.headerTitle,children:[(0,L.jsx)(A.A,{style:{fontSize:"28px",color:"#1890ff"}}),(0,L.jsx)(z,{level:2,style:{margin:0},children:"Notifications"}),B.unread>0&&(0,L.jsx)(y.A,{count:B.unread,style:{backgroundColor:"#1890ff"}})]})}),(0,L.jsx)(h.A,{xs:24,md:12,className:O.headerActions,children:(0,L.jsxs)(d.A,{wrap:!0,children:[B.unread>0&&(0,L.jsx)(x.Ay,{onClick:async()=>{try{await E.Ay.post("/notifications/mark-all-read"),await U(!0),a.Ay.success("All notifications marked as read")}catch(e){a.Ay.error("Failed to mark notifications as read")}},className:$.A.ActionButton,children:"Mark all as read"}),(0,L.jsx)(x.Ay,{icon:(0,L.jsx)(P.A,{}),onClick:async()=>{R(!0),await U(!0),R(!1),a.Ay.success("Notifications refreshed")},className:$.A.ActionButton,children:"Refresh"})]})})]}),(0,L.jsxs)(p.A,{gutter:[16,16],className:O.statsRow,children:[(0,L.jsx)(h.A,{xs:24,md:8,children:(0,L.jsx)(K,{icon:(0,L.jsx)(A.A,{style:{fontSize:"calc(1.5rem + 1vw)",color:"#1890ff",display:"flex",alignItems:"center",justifyContent:"center"}}),title:"Total Notifications",value:B.total,color:"#e6f7ff"})}),(0,L.jsx)(h.A,{xs:24,md:8,children:(0,L.jsx)(K,{icon:(0,L.jsx)(T.A,{style:{fontSize:"calc(1.5rem + 1vw)",color:"#52c41a",display:"flex",alignItems:"center",justifyContent:"center"}}),title:"Unread Messages",value:B.unread,color:"#f6ffed"})}),(0,L.jsx)(h.A,{xs:24,md:8,children:(0,L.jsx)(K,{icon:(0,L.jsx)(S.A,{style:{fontSize:"calc(1.5rem + 1vw)",color:"#722ed1",display:"flex",alignItems:"center",justifyContent:"center"}}),title:"Today's Notifications",value:B.today,color:"#f9f0ff"})})]})]}),(0,L.jsx)(i.A,{className:O.CardDetails,style:{marginTop:"24px"},children:(0,L.jsx)("div",{className:O.notificationsList,style:{marginTop:"16px"},children:n?(0,L.jsx)(i.A,{children:(0,L.jsx)(l.A,{active:!0,avatar:!0,paragraph:{rows:3}})}):0===X().length?(0,L.jsx)(i.A,{children:(0,L.jsx)(c.A,{image:c.A.PRESENTED_IMAGE_SIMPLE,description:(0,L.jsxs)(d.A,{direction:"vertical",size:"small",children:[(0,L.jsx)(F,{strong:!0,children:"No notifications"}),(0,L.jsx)(F,{type:"secondary",children:"You're all caught up!"})]})})}):(0,L.jsx)(j.A,{itemLayout:"horizontal",dataSource:X(),renderItem:e=>{const t=(e=>e.includes("APPROVED")?{borderColor:"#52c41a",icon:(0,L.jsx)(C.A,{style:{fontSize:"20px",color:"#52c41a"}}),background:"#f6ffed",tag:"success",tagText:"APPROVED"}:e.includes("REJECTED")?{borderColor:"#ff4d4f",icon:(0,L.jsx)(_.A,{style:{fontSize:"20px",color:"#ff4d4f"}}),background:"#fff1f0",tag:"error",tagText:"REJECTED"}:e.includes("registration")?{borderColor:"#1890ff",icon:(0,L.jsx)(b.A,{style:{fontSize:"20px",color:"#1890ff"}}),background:"#e6f7ff",tag:"processing",tagText:"REGISTRATION"}:{borderColor:"#722ed1",icon:(0,L.jsx)(v.A,{style:{fontSize:"20px",color:"#722ed1"}}),background:"#f9f0ff",tag:"warning",tagText:"REQUEST"})(e.message);return(0,L.jsx)(i.A,{className:O.notificationCard,style:{marginBottom:"16px",borderLeft:`4px solid ${t.borderColor}`,paddingLeft:"10px",cursor:Z(e)?"pointer":"default"},hoverable:!!Z(e),onClick:()=>(e=>{const t=Z(e);t&&Y(t)})(e),children:(0,L.jsx)(j.A.Item,{children:(0,L.jsx)(j.A.Item.Meta,{avatar:(0,L.jsx)("div",{style:{padding:"12px",background:t.background,borderRadius:"12px"},children:t.icon}),title:(0,L.jsxs)(d.A,{size:4,children:[(0,L.jsx)(F,{strong:!0,children:e.message}),(0,L.jsx)(u.A,{color:t.tag,children:t.tagText}),"unread"===e.notif_status&&(0,L.jsx)(u.A,{color:"blue",children:"NEW"})]}),description:(0,L.jsxs)(d.A,{children:[(0,L.jsx)(S.A,{style:{color:"#8c8c8c"}}),(0,L.jsx)(F,{type:"secondary",children:(o=e.created_at,new Date(o).toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",hour12:!0}))})]})})})});var o}})})})]})]})]})})})}},94505:(e,t,o)=>{o.d(t,{Ay:()=>a});var r=o(86213);const s=r.A.create({baseURL:"https://mcws.mooo.com/api",withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}});s.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>Promise.reject(e))),s.interceptors.response.use((e=>e),(e=>(e.response&&401===e.response.status&&(localStorage.removeItem("token"),window.location="/login"),Promise.reject(e))));const n=localStorage.getItem("token");n&&(r.A.defaults.headers.common.Authorization=`Bearer ${n}`);const a=s},55391:(e,t,o)=>{o.d(t,{A:()=>d,d:()=>a});var r=o(65043),s=o(53727),n=o(48060);function a(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function i(e){const{closable:t,closeIcon:o}=e||{};return r.useMemo((()=>{if(!t&&(!1===t||!1===o||null===o))return!1;if(void 0===t&&void 0===o)return null;let e={closeIcon:"boolean"!==typeof o&&null!==o?o:void 0};return t&&"object"===typeof t&&(e=Object.assign(Object.assign({},e),t)),e}),[t,o])}function l(){const e={};for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return o.forEach((t=>{t&&Object.keys(t).forEach((o=>{void 0!==t[o]&&(e[o]=t[o])}))})),e}const c={};function d(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;const a=i(e),d=i(t),u="boolean"!==typeof a&&!!(null===a||void 0===a?void 0:a.disabled),g=r.useMemo((()=>Object.assign({closeIcon:r.createElement(s.A,null)},o)),[o]),f=r.useMemo((()=>!1!==a&&(a?l(g,d,a):!1!==d&&(d?l(g,d):!!g.closable&&g))),[a,d,g]);return r.useMemo((()=>{if(!1===f)return[!1,null,u];const{closeIconRender:e}=g,{closeIcon:t}=f;let o=t;if(null!==o&&void 0!==o){e&&(o=e(t));const s=(0,n.A)(f,!0);Object.keys(s).length&&(o=r.isValidElement(o)?r.cloneElement(o,s):r.createElement("span",Object.assign({},s),o))}return[!0,o,u]}),[f,g])}},11645:(e,t,o)=>{o.d(t,{A:()=>r});const r=o(30227).A},47419:(e,t,o)=>{o.d(t,{A:()=>r});const r=o(28821).A},76399:(e,t,o)=>{o.d(t,{A:()=>P});var r=o(65043),s=o(98139),n=o.n(s),a=o(18574),i=o(11128),l=o(55391),c=o(12701),d=o(12366),u=o(35296),g=o(43944),f=o(50097),p=o(94414),h=o(78446),m=o(78855);const y=e=>{const{lineWidth:t,fontSizeIcon:o,calc:r}=e,s=e.fontSizeSM;return(0,h.oX)(e,{tagFontSize:s,tagLineHeight:(0,g.zA)(r(e.lineHeightSM).mul(s).equal()),tagIconSize:r(o).sub(r(t).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},x=e=>({defaultBg:new f.q(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText}),j=(0,m.OF)("Tag",(e=>(e=>{const{paddingXXS:t,lineWidth:o,tagPaddingHorizontal:r,componentCls:s,calc:n}=e,a=n(r).sub(o).equal(),i=n(t).sub(o).equal();return{[s]:Object.assign(Object.assign({},(0,p.dF)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:a,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,g.zA)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${s}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${s}-close-icon`]:{marginInlineStart:i,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${s}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${s}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:a}}),[`${s}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}})(y(e))),x);var A=function(e,t){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(o[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(o[r[s]]=e[r[s]])}return o};const b=r.forwardRef(((e,t)=>{const{prefixCls:o,style:s,className:a,checked:i,onChange:l,onClick:c}=e,d=A(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:g,tag:f}=r.useContext(u.QO),p=g("tag",o),[h,m,y]=j(p),x=n()(p,`${p}-checkable`,{[`${p}-checkable-checked`]:i},null===f||void 0===f?void 0:f.className,a,m,y);return h(r.createElement("span",Object.assign({},d,{ref:t,style:Object.assign(Object.assign({},s),null===f||void 0===f?void 0:f.style),className:x,onClick:e=>{null===l||void 0===l||l(!i),null===c||void 0===c||c(e)}})))})),v=b;var C=o(8835);const _=(0,m.bf)(["Tag","preset"],(e=>(e=>(0,C.A)(e,((t,o)=>{let{textColor:r,lightBorderColor:s,lightColor:n,darkColor:a}=o;return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:r,background:n,borderColor:s,"&-inverse":{color:e.colorTextLightSolid,background:a,borderColor:a},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}})))(y(e))),x);const k=(e,t,o)=>{const r="string"!==typeof(s=o)?s:s.charAt(0).toUpperCase()+s.slice(1);var s;return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:e[`color${o}`],background:e[`color${r}Bg`],borderColor:e[`color${r}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}},N=(0,m.bf)(["Tag","status"],(e=>{const t=y(e);return[k(t,"success","Success"),k(t,"processing","Info"),k(t,"error","Error"),k(t,"warning","Warning")]}),x);var S=function(e,t){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(o[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(o[r[s]]=e[r[s]])}return o};const w=r.forwardRef(((e,t)=>{const{prefixCls:o,className:s,rootClassName:g,style:f,children:p,icon:h,color:m,onClose:y,bordered:x=!0,visible:A}=e,b=S(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:v,direction:C,tag:k}=r.useContext(u.QO),[w,I]=r.useState(!0),P=(0,a.A)(b,["closeIcon","closable"]);r.useEffect((()=>{void 0!==A&&I(A)}),[A]);const T=(0,i.nP)(m),E=(0,i.ZZ)(m),O=T||E,$=Object.assign(Object.assign({backgroundColor:m&&!O?m:void 0},null===k||void 0===k?void 0:k.style),f),D=v("tag",o),[L,z,F]=j(D),R=n()(D,null===k||void 0===k?void 0:k.className,{[`${D}-${m}`]:O,[`${D}-has-color`]:m&&!O,[`${D}-hidden`]:!w,[`${D}-rtl`]:"rtl"===C,[`${D}-borderless`]:!x},s,g,z,F),W=e=>{e.stopPropagation(),null===y||void 0===y||y(e),e.defaultPrevented||I(!1)},[,q]=(0,l.A)((0,l.d)(e),(0,l.d)(k),{closable:!1,closeIconRender:e=>{const t=r.createElement("span",{className:`${D}-close-icon`,onClick:W},e);return(0,c.fx)(e,t,(e=>({onClick:t=>{var o;null===(o=null===e||void 0===e?void 0:e.onClick)||void 0===o||o.call(e,t),W(t)},className:n()(null===e||void 0===e?void 0:e.className,`${D}-close-icon`)})))}}),B="function"===typeof b.onClick||p&&"a"===p.type,M=h||null,H=M?r.createElement(r.Fragment,null,M,p&&r.createElement("span",null,p)):p,Q=r.createElement("span",Object.assign({},P,{ref:t,className:R,style:$}),H,q,T&&r.createElement(_,{key:"preset",prefixCls:D}),E&&r.createElement(N,{key:"status",prefixCls:D}));return L(B?r.createElement(d.A,{component:"Tag"},Q):Q)})),I=w;I.CheckableTag=v;const P=I},52967:(e,t,o)=>{o.d(t,{A:()=>r});const r={"fade-in":"App_fade-in__8IP91",show:"App_show__YgTh4",ActionButton:"App_ActionButton__SVqGL",DeleteButton:"App_DeleteButton__ffM0l"}}}]);
//# sourceMappingURL=412.8ef35f44.chunk.js.map